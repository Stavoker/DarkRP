# Решение проблем с подключением к базе данных

## Ошибка: Access denied for user 'Radontrax'@'%' to database 'Infamous_token'

Эта ошибка означает, что пользователь базы данных не имеет прав доступа к базе `Infamous_token`.

### Решение 1: Проверьте правильность названия базы данных

Возможно, название базы данных написано с другим регистром или немного отличается. Проверьте:

1. **В phpMyAdmin:**
   - Откройте список всех баз данных
   - Найдите базу данных для токенов
   - Скопируйте точное название (с учетом регистра)

2. **Через MySQL:**
   ```sql
   SHOW DATABASES LIKE '%token%';
   ```

### Решение 2: Предоставьте права доступа

Если база данных существует, но у пользователя нет прав:

1. **В phpMyAdmin:**
   - Перейдите в "User accounts"
   - Найдите пользователя 'Radontrax'
   - Нажмите "Edit privileges"
   - Выберите базу данных `Infamous_token`
   - Нажмите "Go"
   - Выберите все необходимые права или "All privileges"
   - Нажмите "Go"

2. **Через SQL команду (от администратора):**
   ```sql
   GRANT ALL PRIVILEGES ON `Infamous_token`.* TO 'Radontrax'@'%';
   FLUSH PRIVILEGES;
   ```

### Решение 3: Измените название базы в конфигурации

Если название базы данных отличается, отредактируйте файл `server/config/databases.js`:

```javascript
tokens: {
  // ...
  database: 'правильное_название_базы',  // ← Измените здесь
  // ...
},
```

### Решение 4: Используйте другой пользователь

Если у вас есть другой пользователь с правами доступа ко всем базам данных, используйте его в `.env`:

```env
DB_USER=другой_пользователь
DB_PASSWORD=пароль_другого_пользователя
```

## Проверка подключения

После исправления проблемы перезапустите сервер:

```bash
npm run dev:server
```

Проверьте статус всех баз данных:

```bash
curl http://localhost:3001/api/health
```

Или откройте в браузере: `http://localhost:3001/api/health`

## Важно

- Сервер продолжит работать даже если одна из баз данных недоступна
- API endpoints для недоступной базы данных вернут ошибку 503
- Остальные endpoints будут работать нормально

